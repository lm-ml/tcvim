<?xml version='1.0' encoding='utf-8'?>
<plugin id="cordova-plugin-tcvim" version="0.0.1" xmlns="http://apache.org/cordova/ns/plugins/1.0">
    <name>TcvIM</name>


    <engines>
        <engine name="cordova" version=">=3.5.0" />
    </engines>

    <js-module name="FirstToast" src="www/TcvIM.js">
        <clobbers target="FirstToast" />
    </js-module>

    <platform name="android">
        <source-file src="src/android/FirstToast.java" target-dir="src/com/first/toast" />

        <config-file parent="/*" target="res/xml/config.xml">
            <feature name="FirstToast">
                <param name="android-package" value="com.first.toast.FirstToast" />
            </feature>
        </config-file>


        <config-file parent="/*" target="AndroidManifest.xml">
            <!-- 权限声明 -->
            <!-- 访问网络状态-->
            <uses-permission android:name="android.permission.INTERNET" />
            <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
            <uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />
            <!-- 控制呼吸灯，振动器等，用于新消息提醒 -->
            <uses-permission android:name="android.permission.FLASHLIGHT" />
            <uses-permission android:name="android.permission.VIBRATE" />
            <!-- 外置存储存取权限 -->
            <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
            <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />

            <!-- 多媒体相关 -->
            <uses-permission android:name="android.permission.CAMERA" />
            <uses-permission android:name="android.permission.RECORD_AUDIO" />
            <uses-permission android:name="android.permission.READ_PHONE_STATE" />

            <!-- 如果需要实时音视频通话模块，下面的权限也是必须的。否则，可以不加 -->
            <uses-permission android:name="android.permission.BLUETOOTH" />
            <uses-permission android:name="android.permission.BLUETOOTH_ADMIN" />
            <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
            <uses-permission android:name="android.permission.BROADCAST_STICKY" />
            <uses-feature android:name="android.hardware.camera" />
            <uses-feature android:name="android.hardware.camera.autofocus" />
            <uses-feature android:glEsVersion="0x00020000" android:required="true" />

            <!-- SDK 权限申明, 第三方 APP 接入时，请将 com.netease.nim.demo 替换为自己的包名 -->
            <!-- 和下面的 uses-permission 一起加入到你的 AndroidManifest 文件中。 -->
            <permission android:name="com.netease.nim.demo.permission.RECEIVE_MSG"
                android:protectionLevel="signature" />
            <!-- 接收 SDK 消息广播权限， 第三方 APP 接入时，请将 com.netease.nim.demo 替换为自己的包名 -->
            <uses-permission android:name="com.netease.nim.demo.permission.RECEIVE_MSG" />

            <application>
                <!-- APP key, 可以在这里设置，也可以在 SDKOptions 中提供。
                    如果 SDKOptions 中提供了，取 SDKOptions 中的值。 -->
                <meta-data android:name="com.netease.nim.appKey" android:value="key_of_your_app" />

                <!-- 云信后台服务，请使用独立进程。 -->
                <service android:name="com.netease.nimlib.service.NimService" android:process=":core" />

                <!-- 云信后台辅助服务 -->
                <service android:name="com.netease.nimlib.service.NimService$Aux"
                    android:process=":core" />

                <!-- 云信后台辅助服务 -->
                <service android:exported="true" android:name="com.netease.nimlib.job.NIMJobService"
                    android:permission="android.permission.BIND_JOB_SERVICE" android:process=":core" />

                <!-- 云信监视系统启动和网络变化的广播接收器，保持和 NimService 同一进程 -->
                <receiver android:exported="false" android:name="com.netease.nimlib.service.NimReceiver"
                    android:process=":core">
                    <intent-filter>
                        <action android:name="android.intent.action.BOOT_COMPLETED" />
                        <action android:name="android.net.conn.CONNECTIVITY_CHANGE" />
                    </intent-filter>
                </receiver>

                <!-- 云信进程间通信 Receiver -->
                <receiver android:name="com.netease.nimlib.service.ResponseReceiver" />

                <!-- 云信进程间通信service -->
                <service android:name="com.netease.nimlib.service.ResponseService" />

                <!-- 云信进程间通信provider -->
                <!-- android:authorities="{包名}.ipc.provider", 请将com.netease.nim.demo替换为自己的包名 -->
                <provider android:authorities="com.netease.nim.demo.ipc.provider"
                    android:exported="false" android:name="com.netease.nimlib.ipc.NIMContentProvider"
                    android:process=":core" />
            </application>
        </config-file>




        <source-file src="src/android/libs/arm64-v8a/libne_audio.so" target-dir="jniLibs/arm64-v8a" />
        <source-file src="src/android/libs/arm64-v8a/libnrtc_mp4v2.so" target-dir="jniLibs/arm64-v8a" />
        <source-file src="src/android/libs/arm64-v8a/libnrtc_sdk.so" target-dir="jniLibs/arm64-v8a" />
        <source-file src="src/android/libs/arm64-v8a/librts_network.so" target-dir="jniLibs/arm64-v8a" />


        <source-file src="src/android/libs/armeabi-v7a/libne_audio.so" target-dir="jniLibs/armeabi-v7a" />
        <source-file src="src/android/libs/armeabi-v7a/libnrtc_mp4v2.so" target-dir="jniLibs/armeabi-v7a" />
        <source-file src="src/android/libs/armeabi-v7a/libnrtc_sdk.so" target-dir="jniLibs/armeabi-v7a" />
        <source-file src="src/android/libs/armeabi-v7a/librts_network.so" target-dir="jniLibs/armeabi-v7a" />


        <source-file src="src/android/libs/x86/libne_audio.so" target-dir="jniLibs/x86" />
        <source-file src="src/android/libs/x86/libnrtc_mp4v2.so" target-dir="jniLibs/x86" />
        <source-file src="src/android/libs/x86/libnrtc_sdk.so" target-dir="jniLibs/x86" />
        <source-file src="src/android/libs/x86/librts_network.so" target-dir="jniLibs/x86" />


        <source-file src="src/android/libs/x86_64/libne_audio.so" target-dir="jniLibs/x86_64" />
        <source-file src="src/android/libs/x86_64/libnrtc_mp4v2.so" target-dir="jniLibs/x86_64" />
        <source-file src="src/android/libs/x86_64/libnrtc_sdk.so" target-dir="jniLibs/x86_64" />
        <source-file src="src/android/libs/x86_64/librts_network.so" target-dir="jniLibs/x86_64" />

        <source-file src="src/android/libs/nim-avchat-7.1.0.jar" target-dir="jniLibs" />
        <source-file src="src/android/libs/nim-avsignalling-7.1.0.jar" target-dir="jniLibs" />
        <source-file src="src/android/libs/nim-basesdk-7.1.0.jar" target-dir="jniLibs" />
        <source-file src="src/android/libs/nim-chatroom-7.1.0.jar" target-dir="jniLibs" />
        <source-file src="src/android/libs/nim-lucene-7.1.0.jar" target-dir="jniLibs" />
        <source-file src="src/android/libs/nim-push-7.1.0.jar" target-dir="jniLibs" />
        <source-file src="src/android/libs/nim-rts-7.1.0.jar" target-dir="jniLibs" />
        <source-file src="src/android/libs/nim-superteam-7.1.0.jar" target-dir="jniLibs" />
        <source-file src="src/android/libs/nrtc-sdk.jar" target-dir="jniLibs" />

        <framework src="build-extras.gradle" custom="true" type="gradleReference"/>

    </platform>


</plugin>
